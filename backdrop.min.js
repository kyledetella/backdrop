/*! backdrop - v0.1.0 - 2013-08-27 */!function(a){"use strict";var b,c=!navigator.userAgent.match("Android|iOS");b=function(b){var d,e,f,g,h,i,j,k;d=_.extend({stage:document.getElementById("backdrop"),src:{video:{ogg:"/path/to/video.ogg",webm:"/path/to/video.webm",mp4:"path/to/video.mp4"},image:"/path/to/image"}},b),f=function(){var a,b=Modernizr.video;return b.ogg&&(a=d.src.video.ogg),b.webm&&(a=d.src.video.webm),b.h264&&(a=d.src.video.mp4),a},g=function(){var a=d.src.image,b=d.stage;b.style.backgroundImage="url("+a+")",b.style.height="100%",b.style.backgroundRepeat="no-repeat",b.style.backgroundSize="cover",b.style.backgroundPosition="center center",j()},h=function(){var b,c=f();e=document.createElement("video"),e.setAttribute("autoplay",1),e.setAttribute("loop",1),e.setAttribute("src",c),b=function(){a.addEventListener("resize",_.debounce(i,10)),i(j),this.removeEventListener("loadedmetadata",b)},e.addEventListener("loadedmetadata",b),d.stage.appendChild(e)},i=function(b){if(e){var c,f,g=a.innerWidth,h=a.innerHeight,i=1280,j=720,k=g/i,l=h/j,m=l>k?l:k;320>m*i&&(m=320/i),c=m*i,f=m*j,e.style.width=c+"px",e.style.height=f+"px",d.stage.style.left=-((c-g)/2)+"px",d.stage.style.top=-((f-h)/2)+"px",_.isFunction(b)&&b()}},j=function(){d.stage.style.opacity=1},k=function(){Modernizr.video&&c?h():g()},k()},"function"==typeof define&&define.amd?define(function(){return b}):a.Backdrop=b}(window);